// Perform an aggregation of your documents with an apply function: for each document construct an ID out of construction_value and building_type fields
// Note that you need to enclose the apply function within double quotes

FT.AGGREGATE "permits" "*"
   APPLY "format(\"%s-%s\", @construction_value, @building_type)" as ID

// See the "permits" index schema for reference

// FT.CREATE "permits"
//  ON HASH
//     PREFIX 1 "permit:"
//  SCHEMA
//     "permit_timestamp" NUMERIC SORTABLE
//     "address_street" AS street TEXT NOSTEM
//     "address_city" AS city TAG SORTABLE
//     "description" TEXT
//     "building_type" TEXT NOSTEM SORTABLE
//     "work_type" TAG SEPARATOR ";"
//     "construction_value" NUMERIC SORTABLE
//     "location" GEO
